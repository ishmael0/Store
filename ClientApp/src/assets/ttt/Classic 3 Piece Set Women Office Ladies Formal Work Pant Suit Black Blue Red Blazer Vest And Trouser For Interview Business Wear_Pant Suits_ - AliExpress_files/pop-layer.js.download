(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[9],{146:function(e,t,n){"use strict";var o=n(31);t.__esModule=!0,t.sendPoint=function(e,t){void 0===e&&(e="click");void 0===t&&(t={});"exposure"===e?function(e){a({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){a({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)};var r=o(n(3)),i=n(95);function a(e){try{var t=(0,r.default)({st_page_id:window.dmtrack_pageid||""},e.params),n=(0,i.serializeParams)(t);i.isSmbLog&&console.log("埋点：","path:"+e.path+", event:"+e.event+", 参数：",t),window.goldlog.record(e.path,e.event,n,"GET")}catch(e){}}},444:function(e,t,n){"use strict";n(445);var o=n(31);t.__esModule=!0,t.execCallApp=function(e){void 0===e&&(e={});l||(l=new r.default);l.execCallApp(e)},t.getAppStoreUrl=function(e){void 0===e&&(e={});return(0,i.createAppStoreUrl)(e.APPSTORE_URL||"//s.click.aliexpress.com/i/_bFomh7?aff_platform=msite&channel=in_msite_top",e)},t.Log=t.Utils=void 0;var r=o(n(446)),i=c(n(95)),a=c(n(146));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}var l=null;var p=i;t.Utils=p;var d=a;t.Log=d},445:function(e,t){},446:function(e,t,n){"use strict";var o=n(31);t.__esModule=!0,t.default=t.DEFAULT_TIMEOUT=t.SMB_VERSION=void 0;var r=o(n(3)),i=o(n(447)),a=n(95),s=n(146),c=i.default.version;t.SMB_VERSION=c;t.DEFAULT_TIMEOUT=3e3;var l=window.location.host,p=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var n=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=n.callAppUrl}),0);var o=(0,a.isAndroid)()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=(0,r.default)({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(n.redirectUrl),callAppUrl:encodeURIComponent(n.callAppUrl)},e.getCommonPointParams());n.sendPoint&&(0,s.sendPoint)("click",t,n),(0,a.isFunction)(n.callAppCallback)&&n.callAppCallback(!1,t,n),n.needRedirect&&(window.location.href=n.redirectUrl),e.clearRedirectField()}),o),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=c,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:(0,a.getPageCode)(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[(0,a.getPageSpm)(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":(0,a.getParameterByName)("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=(0,a.createRedirectUrl)(t.targetUrl||(0,a.getDefaultTargetUrl)(),t)||"",t.callAppUrl=(0,a.createCallAppUrl)(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return(0,r.default)({host:l,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;(0,s.sendPoint)("exposure",(0,r.default)({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var n=(0,r.default)({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&(0,s.sendPoint)("click",n,t),(0,a.isFunction)(t.callAppCallback)&&t.callAppCallback(!0,n),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}();t.default=p},447:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.9","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.9","_id":"@alife/heaven-smart-banner-core@0.1.9","_inBundle":false,"_integrity":"sha1-60QS9Pmu6gfZpLPPQa3gukFeVO4=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.9","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.9","saveSpec":null,"fetchSpec":"0.1.9"},"_requiredBy":["/@ali/poplayer-web-container","/@alife/nano-smart-banner"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.9.tgz","_spec":"0.1.9","_where":"/cloud/source_code","author":{"name":"老邬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"唤端执行方法","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"老邬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"基础组件","biz":"基础链路","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.9/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.9"}')},448:function(e,t){},449:function(e,t,n){"use strict";var o={},r=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function c(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function l(e){return e}o.get=function(e,t){c(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var o,i,s,c=t?r:l,p=e.split(/;\s/g),d=0,u=p.length;d<u;d++){if((s=p[d].match(/([^=]+)=/i))instanceof Array)try{o=r(s[1]),i=c(p[d].substring(s[1].length+1))}catch(e){}else o=r(p[d]),i="";o&&(n[o]=i)}return n}(document.cookie,!t.raw);return(t.converter||l)(n[e])},o.set=function(e,t,n){c(e);var o=(n=n||{}).expires,r=n.domain,a=n.path;n.raw||(t=i(String(t)));var l=e+"="+t,p=o;return"number"==typeof p&&(p=new Date).setDate(p.getDate()+o),p instanceof Date&&(l+="; expires="+p.toUTCString()),s(r)&&(l+="; domain="+r),s(a)&&(l+="; path="+a),n.secure&&(l+="; secure"),document.cookie=l,l},o.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var p=o;t.default=p},450:function(e,t,n){"use strict";t.getFixedDomainUrl=function(){return o};var o="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(o=e.domain)}))},451:function(e,t){},452:function(e,t,n){(function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function r(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return r(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),o=0,r=t.length;o<r;o++){var a=t.charCodeAt(o);n[2*o]=a>>>8,n[2*o+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),o=0,r=n.length;o<r;o++)n[o]=256*t[2*o]+t[2*o+1];var a=[];return n.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return r(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var o,r,i,a={},s={},c="",l="",p="",d=2,u=3,f=2,m=[],h=0,v=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=u++,s[c]=!0),l=p+c,Object.prototype.hasOwnProperty.call(a,l))p=l;else{if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,v==t-1?(v=0,m.push(n(h)),h=0):v++;for(r=p.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1}else{for(r=1,o=0;o<f;o++)h=h<<1|r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r=0;for(r=p.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[p]}else for(r=a[p],o=0;o<f;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1;0==--d&&(d=Math.pow(2,f),f++),a[l]=u++,p=String(c)}if(""!==p){if(Object.prototype.hasOwnProperty.call(s,p)){if(p.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,v==t-1?(v=0,m.push(n(h)),h=0):v++;for(r=p.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1}else{for(r=1,o=0;o<f;o++)h=h<<1|r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r=0;for(r=p.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1}0==--d&&(d=Math.pow(2,f),f++),delete s[p]}else for(r=a[p],o=0;o<f;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(r=2,o=0;o<f;o++)h=h<<1|1&r,v==t-1?(v=0,m.push(n(h)),h=0):v++,r>>=1;for(;;){if(h<<=1,v==t-1){m.push(n(h));break}v++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,o){var r,i,a,s,c,l,p,d=[],u=4,f=4,m=3,h="",v=[],g={val:o(0),position:n,index:1};for(r=0;r<3;r+=1)d[r]=r;for(a=0,c=Math.pow(2,2),l=1;l!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),a|=(s>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),l=1;l!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),a|=(s>0?1:0)*l,l<<=1;p=e(a);break;case 1:for(a=0,c=Math.pow(2,16),l=1;l!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),a|=(s>0?1:0)*l,l<<=1;p=e(a);break;case 2:return""}for(d[3]=p,i=p,v.push(p);;){if(g.index>t)return"";for(a=0,c=Math.pow(2,m),l=1;l!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),a|=(s>0?1:0)*l,l<<=1;switch(p=a){case 0:for(a=0,c=Math.pow(2,8),l=1;l!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),a|=(s>0?1:0)*l,l<<=1;d[f++]=e(a),p=f-1,u--;break;case 1:for(a=0,c=Math.pow(2,16),l=1;l!=c;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=o(g.index++)),a|=(s>0?1:0)*l,l<<=1;d[f++]=e(a),p=f-1,u--;break;case 2:return v.join("")}if(0==u&&(u=Math.pow(2,m),m++),d[p])h=d[p];else{if(p!==f)return null;h=i+i.charAt(0)}v.push(h),d[f++]=i+h.charAt(0),i=h,0==--u&&(u=Math.pow(2,m),m++)}}};return i}();"function"==typeof define&&define.amd?define((function(){return t})):null!=e&&(e.exports=t)}).call(this,n(62)(e))},453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function o(e){return"number"!=typeof e||e>3e4||e<0?0:Math.round(e)}function r(e){return o(window.performance&&window.performance.timing?e-window.performance.timing.fetchStart:0)}var i={error:function(e,t){window.__bl&&window.__bl.error?window.__bl.error(e,t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",e,t]))},api:{success:function(e,t,n,o){window.__bl&&window.__bl.api?window.__bl.api(e,!0,t,n,o):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!0,t,n,o]))},error:function(e,t,n,o){window.__bl&&window.__bl.api?window.__bl.api(e,!1,t,n,o):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!1,t,n,o]))}},report:function(e){try{if(!e)return;if(!("Promise"in window))return;if(!window.performance)return;Object.keys(e).forEach((function(t){var n=e[t];if("number"!=typeof n){if(!n||!n.then)throw new Error("performance package: first argument of function reportPerformance need to be a promise or thenable!");e[t]=n.then((function(e){return r(e)}))}else e[t]=o(n)}));var t={ctti:new Promise((function(e){i.interactiveTimerId=setTimeout((function(){e(r(Date.now()))}),0)})).catch((function(e){throw new Error(e)})),t1:(c=0,new Promise((function(e){if("function"==typeof window.performance.getEntriesByType){var t=performance.getEntriesByType("paint");if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];"first-paint"===i.name&&(c=i.startTime)}}else if(window.chrome&&window.chrome.loadTimes){var a=window.chrome.loadTimes();c=1e3*(a.firstPaintTime-a.startLoadTime)}else"number"==typeof window.performance.timing.msFirstPaint&&(c=window.performance.timing.msFirstPaint-window.performance.timing.navigationStart);e(o(c))})).catch((function(e){throw new Error(e)})))},n=Object.assign(t,e),a=[],s=[];Object.keys(n).forEach((function(e){a.push(e),s.push(n[e])})),Promise.all(s).then((function(e){var t={};e.forEach((function(e,n){t[a[n]]=e}));var n=["performance",t];window.__bl&&window.__bl.performance?window.__bl.performance(t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(n))})).catch((function(e){throw console.error(e),new Error(e)}))}catch(e){throw new Error(e)}var c},gc:function(){clearTimeout(this.interactiveTimerId)}},a=i;t.default=a},460:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(9),a=n.n(i),s=n(3),c=n.n(s),l=n(1),p=n.n(l),d=n(444);n(448);var u=1,f=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+u,this.containerId="copy_box_"+u;var t=this.getCopyBoxHtml(e.text),n=document.getElementsByTagName("body")[0],o=document.createElement("div");o.setAttribute("style","position: relative"),o.setAttribute("id",this.containerId),o.innerHTML=t,n.appendChild(o),this.isDestory=!1,u+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var n=!1;document.queryCommandSupported("copy")&&(n=document.execCommand("copy",!1,null)),e&&e(n)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),m=n(449),h=n(450),v=function(e,t){var n=m.default.get(e,{domain:(0,h.getFixedDomainUrl)(),path:"/",raw:!0})||"",o=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(o);var r=RegExp.$2;return o.test(n)&&function(e,t){var n={b_localeFormat:/^[a-z]{2}_[A-Z]{2}$/,c_tpFormat:/^[A-Z]{3}$/,regionFormat:/^[A-Z]{2,3}$/,signFormat:/^(y|n)$/,x_as_iFormat:/^([A-Za-z0-9]|(%))+/,acs_rtFormat:/^[A-Za-z0-9]+$/};return!/(&|=)/.test(t)&&(t&&n[e+"Format"]&&n[e+"Format"].test(t))}(t,r)?r:""};window.__getCookie=v;var g="poplayer-web-container-cachetimes",y=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),w=y.substr(y.indexOf("?")),_={};w&&w.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,o){return _[t]=decodeURIComponent(o),""}));var b=n(147),x=n(151),E=n(150),S=n(149),C=n(148),I=n(452),T=n.n(I),k=function(e){return Object.keys(Object.getPrototypeOf(e)).reduce((function(t,n){var o;return Object.assign(t,((o={})[n]=e[n],o))}),Object.assign({},e))};function A(e){var t,n;void 0===e&&(e="BODY");var o=document.querySelector(e);if(!o)return[];var r=document.createNodeIterator(o,NodeFilter.SHOW_TEXT);for(var i,a,s=null,l=[];s=r.nextNode();)if(s&&s.wholeText.trim().length){var p=(i=s,a=void 0,(a=document.createRange()).selectNode(i),a.getBoundingClientRect());p.top>=0&&p.left>=0&&p.width>0&&p.height>0&&l.push(c()({},k(p),{type:"text"}))}Array.from(o.getElementsByTagName("img")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&l.push(c()({},k(t),{type:"img"}))})),Array.from(o.getElementsByTagName("svg")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&l.push(c()({},k(t),{type:"svg"}))})),Array.from(o.getElementsByTagName("canvas")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&l.push(c()({},k(t),{type:"canvas"}))}));var d=JSON.stringify({title:e,width:null==o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.width,height:null==o||null===(n=o.getBoundingClientRect())||void 0===n?void 0:n.height,pagePortrait:l.map((function(e){var t,n;return c()({},e,{x:e.x-(null==o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.left),y:e.y-(null==o||null===(n=o.getBoundingClientRect())||void 0===n?void 0:n.top)})}))});return T.a.compress(d)}n(451);var P=function(e){window.AES_QUEUE&&window.AES_QUEUE.push(e)},O=function(e,t,n){var o,r,i,a;if("function"==typeof(null===(o=window)||void 0===o||null===(r=o._AES)||void 0===r?void 0:r.AESPluginEvent)){var s={};if("string"==typeof t){for(var l={},p=arguments.length,d=new Array(p>3?p-3:0),u=3;u<p;u++)d[u-3]=arguments[u];d.forEach((function(e,t){l["c"+(t+1)]=e})),s=c()({et:t,xpath:n},l)}else s=t;-1==["EXP","CLK","SLD","INPUT","SYS","OTHER"].indexOf(s.et)&&console.warn&&console.warn("'et' should been 'EXP','CLK','SLD','INPUT','SYS', 'OTHER'"),null===(i=window)||void 0===i||null===(a=i._AES)||void 0===a||a.AESPluginEvent(e,s)}},R=function(e,t){void 0===t&&(t=!1);try{!function(e,t,n){void 0===e&&(e="BODY"),void 0===t&&(t=!1);var o=new b.a,r=new E.a(e),i=new x.a(e),a=new S.a(e),s=new C.a(e);r.apply(o),i.apply(o),a.apply(o),s.apply(o),o.run((function(o){void 0===o&&(o={}),o&&n(c()({},o,{c4:t?A(e):""}))}))}(e,t,(function(e){var t=e.c1,n=e.c2,o=e.c3,r=e.c4,i=void 0===r?"":r,a=e.c5,s=void 0===a?"":a,c=e.c6;t&&O("FFFFFF","OTHER","",t,n,o,i,s,void 0===c?"":c)})),window.__isInitGEPWhitePageDetect||(window.__isInitGEPWhitePageDetect=!0)}catch(e){console.error(e)}};function U(e){try{"function"==typeof e&&e()}catch(e){console.error(e)}}window.GEP_READY_LISTENER=window.GEP_READY_LISTENER||[];var D,M,N,j=window.GEP_READY_LISTENER||[];if(j.isProxy||(window.GEP_READY_LISTENER=new Proxy(j,{set:function(e,t,n,o){return"length"!==t&&U(n),!0},get:function(e,t,n){return"isProxy"===t||Reflect.get(e,t,n)}})),window.GEP_READY_LISTENER&&window.GEP_READY_LISTENER.length)try{setTimeout((function(){window.GEP_READY_LISTENER.forEach((function(e){U(e)}))}),0)}catch(e){console.error(e)}setTimeout((function(){window.__isInitGEPWhitePageDetect||R("BODY",!1)}),0),null!==(D=window)&&void 0!==D&&D.GEP_EVENT_QUEUE&&(null!==(M=window)&&void 0!==M&&null!==(N=M.GEP_EVENT_QUEUE)&&void 0!==N&&N.length&&window.GEP_EVENT_QUEUE.forEach((function(e){void 0===e&&(e={});var t=e,n=t.eventId,o=t.et,r=t.xpath,i=t.args;O.apply(void 0,[n,o,r].concat(void 0===i?[]:i))})),window.GEP_EVENT_QUEUE=null);var L=n(453),F=n.n(L);function B(e,t){F.a.error(new Error(e),{filename:t}),function(e,t,n,o,r){void 0===t&&(t="empty"),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r="empty");try{var i={};if("string"==typeof e)i={message:e,url:t,lineno:n,colno:o,stack:r};else{var a=e.message,s=e.url,c=void 0===s?"empty":s,l=e.lineno,p=void 0===l?0:l,d=e.colno,u=void 0===d?0:d,f=e.stack;i={message:a,url:c,lineno:p,colno:u,stack:void 0===f?"empty":f}}P({action:"log",arguments:["js_error",i]})}catch(e){console.error(e)}}(new Error(e))}function G(e,t,n,o){if(void 0===n&&(n=""),void 0===o&&(o=""),t)return F.a.api.success(e,n,"200"),void function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=""),void 0===r&&(r="");var i={};if("string"==typeof e){var a={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};i=c()({},a,{url:e,msg:t,duration:n,params:o,response:r})}else{var s={success:!0,status:200,code:"LOGIC_SUCCESS",trace_id:"",headers:"",rtype:"xhr"};i=c()({},s,e)}P({action:"log",arguments:["api",i]})}({url:e,rtype:"mtop"});try{"object"==typeof o&&(o=JSON.stringify(o))}catch(e){}F.a.api.error(e,n,"ERROR",o),function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=""),void 0===r&&(r="");var i={};if("string"==typeof e){var a={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};i=c()({},a,{url:e,msg:t,duration:n,params:o,response:r})}else{var s={success:!1,status:200,code:"LOGIC_ERROR",trace_id:"",headers:"",rtype:"xhr"};i=c()({},s,e)}P({action:"log",arguments:["api",i]})}({url:e,rtype:"mtop",msg:o})}function J(e,t,n){var o,r,i;"detail"===(null===(o=window)||void 0===o||null===(r=o.g_SPM)||void 0===r||null===(i=r._current_spm)||void 0===i?void 0:i.b)&&"poplayerShow"===e&&F.a.report({t10:Promise.resolve(n)}),O(e,{et:t,xpath:"html/body/div",c1:n})}var H=!1;window.lib&&window.lib.mtop||(H=!0,n(22));var z=function(){var e=r()(p.a.mark((function e(t,n){var o,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),H&&((o=window.lib.mtop.config).H5Request=!0,o.prefix=_.__prefix||"acs",o.subDomain="",o.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com"),r=c()({},t,{v:t.v||"1.0",encode:"1",ecode:1,appKey:24815441,data:t.data}),i=Date.now(),e.abrupt("return",window.lib.mtop.request(r).then((function(e){var n,o;null!=e&&null!==(n=e.data)&&void 0!==n&&n.success?G(t.api,!0,""+(Date.now()-i)):G(t.api,!1,""+(Date.now()-i),null==e||null===(o=e.ret)||void 0===o?void 0:o[0]);return e})).catch((function(e){throw G(t.api,!1,""+(Date.now()-i),""+e),e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(e,t){var n,o,r,i;void 0===t&&(t="pc");var a=v("aep_usuc_f","b_locale"),s=v("aep_usuc_f","region"),c=a&&(null==a||null===(n=a.split("_"))||void 0===n?void 0:n[0])+"_"+s,l=v("aep_usuc_f","c_tp"),p=v("xman_us_f","acs_rt"),d=v("xman_us_f","x_as_i");return z({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",data:{_currency:l,_lang:c="en_CN"===c?"en_US":c,clientType:t,positionSign:e,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(o=window)||void 0===o||null===(r=o.location)||void 0===r?void 0:r.href,appAffiParameters:decodeURIComponent(d||"")||"",acsRt:p,referUrl:null===(i=document)||void 0===i?void 0:i.referrer}})}})};function q(e){throw e}var W={},$="";function Q(e){$=e;var t=g+"-"+e,n=localStorage.getItem(t)||localStorage.getItem(g)||"";try{n&&(W=JSON.parse(n)||{})}catch(e){W={}}}var V,K=function(){return W},X=(V={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(o=W[t]).times-o.showTimes>0?c()({},W,((n={})[t]=c()({},o,{showTimes:o.showTimes+1}),n)):W;case"addTime":return function(e,t){var n,o=W[e];return c()({},W,((n={})[e]=c()({},o,{showTimes:o.showTimes-t}),n))}(e.payload.key,e.payload.times);default:q("action should has type property")}var t,n,o},afterProcess:[function(e){W=e;var t=$?g+"-"+$:g;localStorage.setItem(t,JSON.stringify(W))}]},function(e){var t;void 0===e&&(e={});var n=V.reducer(e);null==V||null===(t=V.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),Z=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],ee=function(){var e="postMessage"in window;function t(e,t,n){var o="";if(arguments.length<2?o="target error - target and name are both required":"object"!=typeof e?o="target error - target itself must be window object":"string"!=typeof t&&(o="target error - target name must be string type"),o)throw new Error(o);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var o=new t(e,n,this.prefix);this.targets[n]=o},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==Z.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),o=(e=n[1],n[0].split("|")),r=o[0],i=o[1],a=0;a<t.listenFunc.length;a++)r+i===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,o=!1;t<n;t++)if(this.listenFunc[t]==e){o=!0;break}o||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}();function te(e,t,n){var o=e.indexOf("?");return o>=0&&(o<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}var ne=n(7),oe=["type"];function re(e){return ie.apply(this,arguments)}function ie(){return(ie=r()(p.a.mark((function e(t){var n,o,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.type,o=a()(t,oe),Object.keys(o||{}).reduce((function(e,n){var r=o[n];return t[n]=r,r?e+"&"+n+"="+r:e}),""),r=[""+t.log_key,"click"===n?"CLK":"EXP"],"poplayer","click"===n?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer",t.sdkVersion="1.0.24","CLK"===r[1]?Object(ne.click)(t):Object(ne.exposure)(t)}catch(e){B("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=window.navigator.userAgent;function se(){return!!ae.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function ce(e){var t=e.positionSign,n=e.uuid,o="autoCollectPopCoupon-"+t,r=localStorage.getItem(o)||"";if(r)try{var i=(r?JSON.parse(r):{})||{},a=(i.positionSign,i.uuid),s=i.timestamp,c=void 0===s?0:s,l=+new Date;a&&(a!==n||l-c>=3e5)&&localStorage.removeItem(o)}catch(e){}}var le=n(12),pe=n.n(le),de=n(21),ue=n.n(de);var fe=function(e,t,n){var o,r,i,a,s=document.createElement("div");document.body.appendChild(s);var c=null==t||null===(o=t.params)||void 0===o?void 0:o.jsComboUrl,l=null===(r=c.match(/@ali\/gmod-(poplayer|pop)(-[a-z]+)+/))||void 0===r?void 0:r[0],p=document.createElement("script");return p.src=c,null===(i=document.getElementsByTagName("head"))||void 0===i||null===(a=i[0])||void 0===a||a.appendChild(p),p.onload=function(){var o,r=document.body.getAttribute("data-spm")||"0";if(null!==(o=window)&&void 0!==o&&o[l]){var i=pe.a.createElement(window[l],{popInfo:t,positionSign:e.positionSign,parentSpmB:r,uuid:n});i&&ue.a.render(i,s)}else B("poplayer module not found: "+l,"src/page/index/new.ts")},s},me=["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"],he=(se(),se()?"a2g0n":"a2g0o"),ve=se()?"msite":"pc",ge=Date.now(),ye="postMessage"in window;function we(e){var t=[];for(var n in e)t.push(c()({},e[n],{uuid:n}));var o={smallImage:!1,other:!1},r=t.sort((function(e,t){return t.priority-e.priority})).filter((function(e){return e.times>e.showTimes}));return r.length?r.filter((function(e){if("smallImage"===e.type){if(!o.smallImage)return o.smallImage=!0,!0}else if(!o.other)return o.other=!0,!0;return!1})).map((function(e){return e.uuid})):[]}function _e(e,t,n){var o=document.createElement("iframe"),r=t.split(/_/)&&t.split(/_/)[2];return r&&(o.src=te(te(te(e,"__poplayer_preserve_uuid",r),"__prefix",_.__prefix||""),"__poplayer_position_sign",n),o.name=t,o.style.width="100%",o.style.height="100%",o.style.border="none",o.style.display="none",o.style.position="fixed",o.style.zIndex="-100",o.style.left="0",o.style.top="0",o.style.transform="translate3d(0, 0, -100)",document.body.appendChild(o)),o}function be(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function xe(e,t,n,o){return void 0===o&&(o=0),{showTimes:0===t?-1:n||0}}function Ee(e,t,n,o,r,i,s){void 0===s&&(s=!1);var l=new ee(e+"parent",void 0);l.addTarget(t.contentWindow||window,e),l.listen((function(l){var p,u,m,h=JSON.parse(l);switch(h.type){case"load":re({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:he+"."+i+".poplayer.loadsuccess",type:"expose",exp_page:o,positionSign:r,exp_type:"poplayer",houyiTrack:n,isNewModule:s,clientType:ve,extend:JSON.stringify(null!==(p=null==h?void 0:h.extend)&&void 0!==p?p:{})});break;case"resizeWidthPosition":h.payload&&h.payload.width&&(t.style.width=be(h.payload.width)),h.payload&&h.payload.height&&(t.style.height=be(h.payload.height)),h.payload&&h.payload.top&&(t.style.top=be(h.payload.top)),h.payload&&h.payload.bottom&&(t.style.bottom=be(h.payload.bottom)),h.payload&&h.payload.left&&(t.style.left=be(h.payload.left)),h.payload&&h.payload.right&&(t.style.right=be(h.payload.right));break;case"show":re({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:he+"."+i+".poplayer.display",type:"expose",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:ve,isNewModule:s,timeToShow:""+(Date.now()-ge),extend:JSON.stringify(null!=h&&h.extend?c()({m_page_id:window.dmtrack_pageid||"","spm-url":_.spm||""},h.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",X({type:"reduceTime",payload:{key:e}}),J("poplayerShow","EXP",""+(Date.now()-ge));break;case"addTime":X({type:"addTime",payload:{key:e,times:h.payload}});break;case"link":re({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:he+"."+i+".poplayer.jump",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:ve,isNewModule:s,extend:JSON.stringify(null!==(u=null==h?void 0:h.extend)&&void 0!==u?u:{})});var g=h.payload;g=g.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=g;break;case"close":document.body.removeChild(t),re({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:he+"."+i+".poplayer.close",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:ve,isNewModule:s,extend:JSON.stringify(null!=h&&h.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":_.spm||""}:{})});break;case"failed":document.body.removeChild(t),re({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:he+"."+i+".poplayer.hidden",type:"expose",positionSign:r,exp_page:o,houyiTrack:n,isNewModule:s,exp_type:"poplayer",clientType:ve,extend:JSON.stringify(null!==(m=null==h?void 0:h.extend)&&void 0!==m?m:{})});break;case"callApp":var y=h.payload,w=y.callAppUrl,b=y.targetUrl,x=(y.pageCode,y.needRedirect),E=y.isAutoCall,S=y.spm,C=void 0===S?he+"."+i+".poplayer.callapp":S,I=y.pageId,T=a()(y,me);if(w)try{var k=d.Utils.fixCallUrlParams(w),A=v("xman_us_f","acs_rt");if(A){var P=new f({text:["$",A||"","$"].join("")});P.copy((function(){})),setTimeout((function(){P.destory()}),150)}Object(d.execCallApp)(c()({callAppUrl:k,callAppCallback:function(){},targetUrl:b,pageCode:i,needRedirect:void 0!==x?x:!!b,isAutoCall:E,spm:C,pageId:I||window.dmtrack_pageid||"",extParams:c()({track:n,fromAction:"poplayer"},T)},T)),re({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:he+"."+i+".poplayer.callapp",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:ve,isNewModule:s,extend:JSON.stringify(null!=h&&h.extend?c()({m_page_id:window.dmtrack_pageid||"","spm-url":_.spm||""},h.extend):{})})}catch(t){B("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(x&&b){var O=d.Utils.createRedirectUrl(b,{pageCode:i,isAutoCall:E,spm:C,pageId:I||window.dmtrack_pageid||"","spm-url":_.spm||""});window.location.href=O}}catch(t){B("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),B("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),q("never unknown message happen, auto close poplayer")}}))}function Se(){return(Se=r()(p.a.mark((function e(t){var n,o,r,i,a,s,l,d,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(t.positionSign),o=document.body.getAttribute("data-spm")||"0",re({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:he+"."+o+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:ve}),r=Date.now(),e.next=6,Y(t.positionSign,ve);case 6:i=e.sent,J("poplayerMtopTiming","OTHER",""+(Date.now()-r)),a=K(),s=null==i||null===(n=i.data)||void 0===n?void 0:n.popLayerRuleMap,l=Object.keys(s).reduce((function(e,t){var n;return c()({},e,((n={})[t]=JSON.parse(s[t]),n))}),{}),d=Object.keys(l).reduce((function(e,t){var n,o,r,i=l[t];return c()({},e,((r={})[i.uuid]=c()({times:i.times,type:i.type,priority:i.priority},xe(0,i.times,null===(n=a[i.uuid])||void 0===n?void 0:n.showTimes,null===(o=a[i.uuid])||void 0===o?void 0:o.startTime)),r))}),{}),X({type:"add",payload:d}),(u=we(d)).length&&u.forEach((function(e){var n,r,i,a,s,c,p,d,u,f=null===(n=l[e])||void 0===n||null===(r=n.params)||void 0===r?void 0:r.extGcpOutputPageUrl,m=null===(i=l[e])||void 0===i||null===(a=i.params)||void 0===a?void 0:a.jsComboUrl,h=null===(s=l[e])||void 0===s?void 0:s.type,v=null===(c=l[e])||void 0===c||null===(p=c.params)||void 0===p?void 0:p.type;"placeholder"===h&&"emptyContent"===v&&re({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:he+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(d=l[e])||void 0===d||null===(u=d.params)||void 0===u?void 0:u.track,exp_page:f,exp_type:"poplayer",clientType:ve});if(f&&ye){var g,y,w,_;if(re({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:he+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(g=l[e])||void 0===g||null===(y=g.params)||void 0===y?void 0:y.track,exp_page:f,exp_type:"poplayer",clientType:ve}),m){var b,x,E=null===(b=l[e])||void 0===b||null===(x=b.params)||void 0===x?void 0:x.track,S=fe(t,l[e],e);return Ee(e,S,E,window.location.href,t.positionSign,o,!0),void ce({positionSign:t.positionSign,uuid:e})}var C=f,I=_e(C+=C.indexOf("?")>=0?"&parentSpmB="+o:"?parentSpmB="+o,e,t.positionSign);I.onerror=function(t){B(e+" poplayer iframe on error","src/page/index/index.ts")},Ee(e,I,null===(w=l[e])||void 0===w||null===(_=w.params)||void 0===_?void 0:_.track,f,t.positionSign,o)}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return Se.apply(this,arguments)}},62:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},95:function(e,t,n){"use strict";var o=n(31);t.__esModule=!0,t.getAffCookieData=a,t.parseUrl=s,t.getParameterByName=c,t.isRuDomain=l,t.isFunction=function(e){return"function"===(typeof e).toLowerCase()},t.serializeParams=p,t.addUrlParams=d,t.createRedirectUrl=function(e,t){void 0===e&&(e="");void 0===t&&(t={});return e?d(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""},t.createCallAppUrl=function(e,t){void 0===e&&(e="");void 0===t&&(t={});if(!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n,i=a(),s={};i.aeuCid&&(s.aff_trace_key=t.aeuCid||i.aeuCid||"",s.aff_platform=t.aff_platform||"msite",s.browser_id=t.browserId||i.browserId||"");var c=t.accountId||i.accountId||"";c&&(s.accountId=c);return d(e,(0,r.default)({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},s,o))},t.createAppStoreUrl=function(e,t){void 0===e&&(e="");void 0===t&&(t={});if(!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n;return d(e,(0,r.default)({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},o))},t.jsonParse=function(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t},t.getPageCode=function(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()},t.getDay=function(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t},t.getProductId=h,t.getDomain=v,t.getDefaultTargetUrl=function(){return"//"+v()+"/download-landing.html"},t.isAndroid=g,t.removeSmbUrlKey=y,t.fixCallUrlParams=function(e){void 0===e&&(e="");var t=e.trim(),n=s(e),o=window.location.href,i=y(s((a=o,(o=a.replace(/https:\/\/(.*?).aliexpress.com\/campaign/,"https://campaign.aliexpress.com").replace(/https:\/\/(.*?).aliexpress.com\/pre-campaign/,"https://pre-wormhole.aliexpress.com"))||""))||{});var a;if(t.indexOf(w.DETAIL)>-1){var c=n.productId?n.productId:h(o),l=(0,r.default)({},n,{productId:c});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){i[e]&&(l[e]=i[e])})),t=d(w.DETAIL,l)}if(t.indexOf(w.STORE)>-1){if(g()){t=d(w.GOTO,{url:o})}else{var p=(0,r.default)({},n,{sellerAdminSeq:n.sellerId||i.sellerId||"",shopId:n.shopId||i.sellerId||""});t=d(w.STORE,p)}return t}if(t.indexOf(w.GOTO)>-1){if(n.url)return t;var u=(0,r.default)({},n,{url:o});return t=d(t,u)}return t},t.SCHEME_MAP=t.isSmbLog=t.isDebug=t.getPageSpm=void 0;var r=o(n(3)),i=o(n(38));function a(){return{aeuCid:i.default.getAeucid(),browserId:i.default.getACS_RT(),lang:i.default.getLocale()||"",shipToCountry:i.default.getRegion()||"",currency:i.default.getCurrency()||"",accountId:i.default.getMemberSeq()||""}}function s(e){var t={},n=e.match(/\?[^#]*/);return n&&1!==n[0].length?(n[0].slice(1).split("&").forEach((function(e){n=e.split("="),t[n[0]]=decodeURIComponent(n[1]||"")})),t):t}function c(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function l(){return/aliexpress\.ru/.test(window.location.host)}function p(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function d(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+p(t):e+"?"+p(t)}var u=function(){var e="",t="";try{var n=document.querySelector('meta[name="data-spm"]');e=n?n.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(n){e="",t=""}var o=[e,t].join(".");return function(){return o}}();t.getPageSpm=u;var f=/true/.test(c("isSmbDebug"));t.isDebug=f;var m=/true/.test(c("isSmbLog"));function h(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function v(){return l()?"m.aliexpress.ru":"m.aliexpress.com"}function g(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}t.isSmbLog=m;function y(e){void 0===e&&(e={});var t={};for(var n in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(n)>-1||(t[n]=e[n]);return t}var w={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};t.SCHEME_MAP=w}}]);